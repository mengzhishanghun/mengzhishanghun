# use '-fdeclspec' or '-fms-extensions' to enable support for __declspec attributes

æ‰“åŒ…æ’ä»¶çš„æ—¶å€™æŠ¥é”™ï¼ŒåŸå› æ˜¯æ’ä»¶å†…ä½¿ç”¨äº†__declspec(dllexport)å’Œ__declspec(dllimport)

ä¾‹å¦‚

```C++
#ifdef BSTREAMINGSDK_EXPORTS
    #define BSTREAMINGSDK_API __declspec(dllexport)
#else
    #define BSTREAMINGSDK_API __declspec(dllimport)
#endif
```

è¿™åœ¨éMSVCçš„ç¼–è¯‘å™¨ä¸Šä¼šæ‰“åŒ…å¤±è´¥ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ä¿®æ”¹

```C++
// æ£€æŸ¥ç¼–è¯‘å™¨ç±»å‹
#if defined(_MSC_VER)
    // ä½¿ç”¨ MSVC ç¼–è¯‘å™¨
    #ifdef BSTREAMINGSDK_EXPORTS
        #define BSTREAMINGSDK_API __declspec(dllexport)
    #else
        #define BSTREAMINGSDK_API __declspec(dllimport)
    #endif
#else
```

å¹¶ä¸”éœ€è¦åœ¨Build.csä¸­å°†å®è®¾ç½®ä¸º1

ä¾‹å¦‚

```C++
if (Target.Platform == UnrealTargetPlatform.Win64)
{
    string libPath = Path.Combine(PluginDirectory, "ThirdParty", "lib");
    PublicAdditionalLibraries.Add(Path.Combine(libPath, "BStreamingSDK.lib"));
    PublicDelayLoadDLLs.Add("BStreamingSDK.dll");
    RuntimeDependencies.Add("$(BinaryOutputDir)/BStreamingSDK.dll", Path.Combine(libPath, "BStreamingSDK.dll"));

    PublicDefinitions.Add("BSTREAMINGSDK_EXPORTS=1");
}
```

---

![å¾®ä¿¡æ”¯ä»˜](https://raw.githubusercontent.com/mengzhishanghun/mengzhishanghun/main/PayCodes/WeChatPay.jpg)

> ğŸ“¢ å¦‚æœæˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿èµèµæ”¯æŒï¼Œè®©æˆ‘æœ‰æ›´å¤šåŠ¨åŠ›æŒç»­åˆ†äº« ğŸ™  
> ğŸ’¼ ä¸šåŠ¡åˆä½œ / Python è„šæœ¬ & UE æ’ä»¶å®šåˆ¶ï¼Œè¯·è”ç³» â†“  
> ğŸ“§ [mengzhishanghun@outlook.com](mengzhishanghun@outlook.com)