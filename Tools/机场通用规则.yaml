# 规则集配置
rule-providers:
  # 广告
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  # 私有
  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400

  # 代理
  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  # 直连
  direct:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400

# 自定义策略组配置
proxy-groups:
  # ===== 服务策略组（会显示在最前面）=====
  - name: "🎯 通用代理"
    type: select
    proxies:
      - "🇭🇰 香港"
      - "🇹🇼 台湾"
      - "🇯🇵 日本"
      - "🇰🇷 韩国"
      - "🇸🇬 新加坡"
      - "🇬🇧 英国"
      - "🇺🇸 美国"
      - "DIRECT"
    
  - name: "🤖 AI访问"
    type: select
    proxies:
      - "🎯 通用代理"
      - "🇭🇰 香港"
      - "🇹🇼 台湾"
      - "🇯🇵 日本"
      - "🇰🇷 韩国"
      - "🇸🇬 新加坡"
      - "🇬🇧 英国"
      - "🇺🇸 美国"
      - "DIRECT"
      
  - name: "🎬 流媒体"
    type: select
    proxies:
      - "🎯 通用代理"
      - "🇭🇰 香港"
      - "🇹🇼 台湾"
      - "🇯🇵 日本"
      - "🇰🇷 韩国"
      - "🇸🇬 新加坡"
      - "🇬🇧 英国"
      - "🇺🇸 美国"
      - "DIRECT"

  - name: "🎮 游戏加速"
    type: select
    proxies:
      - "🎯 通用代理"
      - "🇭🇰 香港"
      - "🇹🇼 台湾"
      - "🇯🇵 日本"
      - "🇰🇷 韩国"
      - "🇸🇬 新加坡"
      - "🇬🇧 英国"
      - "🇺🇸 美国"
      - "DIRECT"
    
  # ===== 地区节点（自动筛选）=====
  - name: "🇭🇰 香港"
    type: fallback
    include-all: true
    filter: "(?i)港|hk|hongkong|hong.?kong"
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: "🇹🇼 台湾"
    type: fallback
    include-all: true
    filter: "(?i)台湾|台|tw|taiwan"
    url: http://www.gstatic.com/generate_204
    interval: 300
    
  - name: "🇯🇵 日本"
    type: fallback
    include-all: true
    filter: "(?i)日本|日|jp|japan"
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: "🇰🇷 韩国"
    type: fallback
    include-all: true
    filter: "(?i)韩国|韩|kr|korea"
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: "🇸🇬 新加坡"
    type: fallback
    include-all: true
    filter: "(?i)新加坡|新|sg|singapore"
    url: http://www.gstatic.com/generate_204
    interval: 300
        
  - name: "🇬🇧 英国"
    type: fallback
    include-all: true
    filter: "(?i)英国|英|uk|britain|united.?kingdom"
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: "🇺🇸 美国"
    type: fallback
    include-all: true
    filter: "(?i)美|us|america|united.?states"
    url: http://www.gstatic.com/generate_204
    interval: 300

# 自定义分流规则
rules:
  # ===== 最高优先级：私有网络和本地回环直连 =====
  - IP-CIDR,127.0.0.0/8,DIRECT,no-resolve          # 本机回环地址
  - IP-CIDR,10.0.0.0/8,DIRECT,no-resolve           # Class A 私有网络（包含WG网段）
  - IP-CIDR,172.16.0.0/12,DIRECT,no-resolve        # Class B 私有网络（包含Docker）
  - IP-CIDR,192.168.0.0/16,DIRECT,no-resolve       # Class C 私有网络（家用路由器）

  # 局域网和私有网络（规则集）
  - RULE-SET,private,DIRECT

  # 广告拦截
  - RULE-SET,reject,REJECT
  
  # 国内部分常用
  - DOMAIN-SUFFIX,icloud.com.cn,DIRECT
  - DOMAIN-SUFFIX,cn.bing.com,DIRECT

  # AI服务
  - DOMAIN-SUFFIX,claude.ai,🤖 AI访问
  - DOMAIN-SUFFIX,anthropic.com,🤖 AI访问
  - DOMAIN-SUFFIX,openai.com,🤖 AI访问
  - DOMAIN-SUFFIX,chatgpt.com,🤖 AI访问
  - DOMAIN-SUFFIX,oaiusercontent.com,🤖 AI访问
  - DOMAIN-SUFFIX,midjourney.com,🤖 AI访问
  - DOMAIN-SUFFIX,stability.ai,🤖 AI访问
  - DOMAIN-SUFFIX,huggingface.co,🤖 AI访问
  - DOMAIN-SUFFIX,cohere.ai,🤖 AI访问
  - DOMAIN-SUFFIX,perplexity.ai,🤖 AI访问
  - DOMAIN-SUFFIX,character.ai,🤖 AI访问
  - DOMAIN-SUFFIX,replika.ai,🤖 AI访问
  - DOMAIN-SUFFIX,poe.com,🤖 AI访问
  - DOMAIN-SUFFIX,github.com,🤖 AI访问
  - DOMAIN-KEYWORD,copilot,🤖 AI访问
  - DOMAIN-KEYWORD,gemini,🤖 AI访问
  
  # 流媒体服务
  - DOMAIN-SUFFIX,netflix.com,🎬 流媒体
  - DOMAIN-SUFFIX,nflxvideo.net,🎬 流媒体
  - DOMAIN-SUFFIX,youtube.com,🎬 流媒体
  - DOMAIN-SUFFIX,youtu.be,🎬 流媒体
  - DOMAIN-SUFFIX,googlevideo.com,🎬 流媒体
  - DOMAIN-SUFFIX,disney.com,🎬 流媒体
  - DOMAIN-SUFFIX,disneyplus.com,🎬 流媒体
  - DOMAIN-SUFFIX,spotify.com,🎬 流媒体
  - DOMAIN-SUFFIX,hulu.com,🎬 流媒体
  - DOMAIN-SUFFIX,primevideo.com,🎬 流媒体
  - DOMAIN-SUFFIX,amazon.com,🎬 流媒体
  - DOMAIN-SUFFIX,hbomax.com,🎬 流媒体
  - DOMAIN-SUFFIX,max.com,🎬 流媒体
  - DOMAIN-SUFFIX,tv.apple.com,🎬 流媒体
  - DOMAIN-SUFFIX,paramountplus.com,🎬 流媒体
  - DOMAIN-SUFFIX,twitch.tv,🎬 流媒体
  - DOMAIN-SUFFIX,crunchyroll.com,🎬 流媒体
  - DOMAIN-SUFFIX,funimation.com,🎬 流媒体
  - DOMAIN-SUFFIX,peacocktv.com,🎬 流媒体
  - DOMAIN-SUFFIX,discoveryplus.com,🎬 流媒体
  - DOMAIN-SUFFIX,espn.com,🎬 流媒体
  - DOMAIN-SUFFIX,dailymotion.com,🎬 流媒体
  - DOMAIN-SUFFIX,vimeo.com,🎬 流媒体
  - DOMAIN-SUFFIX,pandora.com,🎬 流媒体
  - DOMAIN-SUFFIX,soundcloud.com,🎬 流媒体
  - DOMAIN-SUFFIX,tidal.com,🎬 流媒体

  # 游戏下载直连规则（必须放在游戏服务规则前面）
  
  # Steam下载相关
  - DOMAIN,steamcdn-a.akamaihd.net,DIRECT
  - DOMAIN-SUFFIX,steamserver.net,DIRECT
  - DOMAIN-SUFFIX,steamcontent.com,DIRECT
  - DOMAIN-SUFFIX,steamusercontent.com,DIRECT
  - DOMAIN-SUFFIX,steamstatic.com,DIRECT
  
  # Epic Games下载相关
  - DOMAIN-SUFFIX,epicgames-download1-1251447533.file.myqcloud.com,DIRECT
  - DOMAIN-KEYWORD,epicgames-download,DIRECT
  
  # 通用CDN下载域名
  - DOMAIN-SUFFIX,akamaihd.net,DIRECT
  - DOMAIN-SUFFIX,akamaized.net,DIRECT
  - DOMAIN-SUFFIX,fastly.com,DIRECT

  # 通用GitHub下载
  - DOMAIN-SUFFIX,githubusercontent.com,DIRECT
  
  # Origin/EA下载
  - DOMAIN-SUFFIX,ssl-lvlt.cdn.ea.com,DIRECT
  - DOMAIN-SUFFIX,origin-a.akamaihd.net,DIRECT
  
  # 暴雪战网下载
  - DOMAIN-SUFFIX,level3.blizzard.com,DIRECT
  - DOMAIN-SUFFIX,blzddist1-a.akamaihd.net,DIRECT
  - DOMAIN-SUFFIX,client05.pdl.wow.battlenet.com.cn,DIRECT
  - DOMAIN-SUFFIX,client02.pdl.wow.battlenet.com.cn,DIRECT
  
  # Rockstar下载
  - DOMAIN-SUFFIX,gamedownloads-rockstargames-com.akamaized.net,DIRECT
  
  # 通用下载关键词匹配
  - DOMAIN-KEYWORD,download,DIRECT
  - DOMAIN-KEYWORD,cdn,DIRECT
  - DOMAIN-KEYWORD,cache,DIRECT
  - DOMAIN-KEYWORD,content,DIRECT
  
  # 游戏服务（登录/商店/社区）走代理
  - DOMAIN-SUFFIX,steampowered.com,🎮 游戏加速
  - DOMAIN-SUFFIX,steamcommunity.com,🎮 游戏加速
  - DOMAIN-SUFFIX,epicgames.com,🎮 游戏加速
  - DOMAIN-SUFFIX,unrealengine.com,🎮 游戏加速
  - DOMAIN-SUFFIX,battle.net,🎮 游戏加速
  - DOMAIN-SUFFIX,blizzard.com,🎮 游戏加速
  - DOMAIN-SUFFIX,riotgames.com,🎮 游戏加速
  - DOMAIN-SUFFIX,ea.com,🎮 游戏加速
  - DOMAIN-SUFFIX,origin.com,🎮 游戏加速
  - DOMAIN-SUFFIX,ubisoft.com,🎮 游戏加速
  - DOMAIN-SUFFIX,uplay.com,🎮 游戏加速
  - DOMAIN-SUFFIX,gog.com,🎮 游戏加速
  - DOMAIN-SUFFIX,playstation.com,🎮 游戏加速
  - DOMAIN-SUFFIX,xbox.com,🎮 游戏加速
  - DOMAIN-SUFFIX,nintendo.com,🎮 游戏加速
  - DOMAIN-SUFFIX,valve.com,🎮 游戏加速
  - DOMAIN-SUFFIX,valvesoftware.com,🎮 游戏加速
  - DOMAIN-SUFFIX,activision.com,🎮 游戏加速
  - DOMAIN-SUFFIX,rockstargames.com,🎮 游戏加速
  - DOMAIN-SUFFIX,2k.com,🎮 游戏加速
  - DOMAIN-SUFFIX,bethesda.net,🎮 游戏加速
  - DOMAIN-SUFFIX,minecraft.net,🎮 游戏加速
  - DOMAIN-SUFFIX,mojang.com,🎮 游戏加速
  
  # 通用代理规则
  - RULE-SET,proxy,🎯 通用代理
  
  # 国内直连
  - RULE-SET,direct,DIRECT
  - GEOIP,CN,DIRECT
  
  # 其他走通用代理
  - MATCH,🎯 通用代理
